<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapitre 3 Traitement des données | Chroniques de température de milieux aquatiques</title>
  <meta name="description" content="Ce document présente l’utilisation d’outils d’acquisition et de traitement de chroniques de température de milieux aquatiques développés dans le cadre du RSTMAJ." />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapitre 3 Traitement des données | Chroniques de température de milieux aquatiques" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Ce document présente l’utilisation d’outils d’acquisition et de traitement de chroniques de température de milieux aquatiques développés dans le cadre du RSTMAJ." />
  <meta name="github-repo" content="https://github.com/jbfagotfede39/notice-thermie/" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapitre 3 Traitement des données | Chroniques de température de milieux aquatiques" />
  
  <meta name="twitter:description" content="Ce document présente l’utilisation d’outils d’acquisition et de traitement de chroniques de température de milieux aquatiques développés dans le cadre du RSTMAJ." />
  



<meta name="date" content="2025-05-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="acquisition-des-données.html"/>
<link rel="next" href="valorisation.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Température de milieux aquatiques</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Cadre général</a></li>
<li class="chapter" data-level="2" data-path="acquisition-des-données.html"><a href="acquisition-des-données.html"><i class="fa fa-check"></i><b>2</b> Acquisition des données</a>
<ul>
<li class="chapter" data-level="2.1" data-path="acquisition-des-données.html"><a href="acquisition-des-données.html#recommandations-générales"><i class="fa fa-check"></i><b>2.1</b> Recommandations générales</a></li>
<li class="chapter" data-level="2.2" data-path="acquisition-des-données.html"><a href="acquisition-des-données.html#chronologie"><i class="fa fa-check"></i><b>2.2</b> Aide-mémoire chronologique</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="acquisition-des-données.html"><a href="acquisition-des-données.html#avant"><i class="fa fa-check"></i><b>2.2.1</b> Avant</a></li>
<li class="chapter" data-level="2.2.2" data-path="acquisition-des-données.html"><a href="acquisition-des-données.html#pendant"><i class="fa fa-check"></i><b>2.2.2</b> Pendant</a></li>
<li class="chapter" data-level="2.2.3" data-path="acquisition-des-données.html"><a href="acquisition-des-données.html#apres"><i class="fa fa-check"></i><b>2.2.3</b> Après</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="acquisition-des-données.html"><a href="acquisition-des-données.html#saisie"><i class="fa fa-check"></i><b>2.3</b> Saisie</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="acquisition-des-données.html"><a href="acquisition-des-données.html#saisiestations"><i class="fa fa-check"></i><b>2.3.1</b> Saisie des caractéristiques des stations</a></li>
<li class="chapter" data-level="2.3.2" data-path="acquisition-des-données.html"><a href="acquisition-des-données.html#saisiesuivi"><i class="fa fa-check"></i><b>2.3.2</b> Saisie des suivis de relève</a></li>
<li class="chapter" data-level="2.3.3" data-path="acquisition-des-données.html"><a href="acquisition-des-données.html#envoisuivi"><i class="fa fa-check"></i><b>2.3.3</b> Envoi des informations de pose et/ou de suivi</a></li>
<li class="chapter" data-level="2.3.4" data-path="acquisition-des-données.html"><a href="acquisition-des-données.html#saisiecapteur"><i class="fa fa-check"></i><b>2.3.4</b> Saisie des données relatives aux capteurs</a></li>
<li class="chapter" data-level="2.3.5" data-path="acquisition-des-données.html"><a href="acquisition-des-données.html#saisiecommentaire"><i class="fa fa-check"></i><b>2.3.5</b> Saisie des commentaires des chroniques</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="acquisition-des-données.html"><a href="acquisition-des-données.html#matériel"><i class="fa fa-check"></i><b>2.4</b> Matériel</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="acquisition-des-données.html"><a href="acquisition-des-données.html#materiel"><i class="fa fa-check"></i><b>2.4.1</b> Liste générale de matériel</a></li>
<li class="chapter" data-level="2.4.2" data-path="acquisition-des-données.html"><a href="acquisition-des-données.html#exemples-de-références-du-matériel"><i class="fa fa-check"></i><b>2.4.2</b> Exemples de références du matériel</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="acquisition-des-données.html"><a href="acquisition-des-données.html#fonctionnementmateriel"><i class="fa fa-check"></i><b>2.5</b> Fonctionnement du matériel</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="acquisition-des-données.html"><a href="acquisition-des-données.html#montageancrage"><i class="fa fa-check"></i><b>2.5.1</b> Montage d’ancrage</a></li>
<li class="chapter" data-level="2.5.2" data-path="acquisition-des-données.html"><a href="acquisition-des-données.html#changementpile"><i class="fa fa-check"></i><b>2.5.2</b> Changement de pile</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="traitement-des-données.html"><a href="traitement-des-données.html"><i class="fa fa-check"></i><b>3</b> Traitement des données</a>
<ul>
<li class="chapter" data-level="3.1" data-path="traitement-des-données.html"><a href="traitement-des-données.html#structure-des-données"><i class="fa fa-check"></i><b>3.1</b> Structure des données</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="traitement-des-données.html"><a href="traitement-des-données.html#chronique_structure"><i class="fa fa-check"></i><b>3.1.1</b> Format au sein de la base de données du RSTMAJ</a></li>
<li class="chapter" data-level="3.1.2" data-path="traitement-des-données.html"><a href="traitement-des-données.html#chronique_structure_hors_bdd"><i class="fa fa-check"></i><b>3.1.2</b> Données hors de la base de données du RSTMAJ</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="traitement-des-données.html"><a href="traitement-des-données.html#chronique_ouverture"><i class="fa fa-check"></i><b>3.2</b> Ouverture des données</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="valorisation.html"><a href="valorisation.html"><i class="fa fa-check"></i><b>4</b> Valorisation</a>
<ul>
<li class="chapter" data-level="4.1" data-path="valorisation.html"><a href="valorisation.html#arborescence"><i class="fa fa-check"></i><b>4.1</b> Arborescence</a></li>
<li class="chapter" data-level="4.2" data-path="valorisation.html"><a href="valorisation.html#agregation"><i class="fa fa-check"></i><b>4.2</b> Données</a></li>
<li class="chapter" data-level="4.3" data-path="valorisation.html"><a href="valorisation.html#resultats"><i class="fa fa-check"></i><b>4.3</b> Résultats - Indicateurs statistiques</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="valorisation.html"><a href="valorisation.html#définition-des-acronymes"><i class="fa fa-check"></i><b>4.3.1</b> Définition des acronymes</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="valorisation.html"><a href="valorisation.html#stations"><i class="fa fa-check"></i><b>4.4</b> Stations</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="valorisation.html"><a href="valorisation.html#atlas-qgis"><i class="fa fa-check"></i><b>4.4.1</b> Atlas QGIS</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="valorisation.html"><a href="valorisation.html#vues"><i class="fa fa-check"></i><b>4.5</b> Figures</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="valorisation.html"><a href="valorisation.html#vueannuelle"><i class="fa fa-check"></i><b>4.5.1</b> Figures annuelles</a></li>
<li class="chapter" data-level="4.5.2" data-path="valorisation.html"><a href="valorisation.html#vueinterannuelle"><i class="fa fa-check"></i><b>4.5.2</b> Figures interannuelles</a></li>
<li class="chapter" data-level="4.5.3" data-path="valorisation.html"><a href="valorisation.html#vueintersitescumul"><i class="fa fa-check"></i><b>4.5.3</b> Figures intersites</a></li>
<li class="chapter" data-level="4.5.4" data-path="valorisation.html"><a href="valorisation.html#figures-de-préférendums-thermiques"><i class="fa fa-check"></i><b>4.5.4</b> Figures de préférendums thermiques</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="valorisation.html"><a href="valorisation.html#résultats"><i class="fa fa-check"></i><b>4.6</b> Résultats</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="valorisation.html"><a href="valorisation.html#fichesresultats"><i class="fa fa-check"></i><b>4.6.1</b> Fiches résultats</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>5</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Publié avec bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Chroniques de température de milieux aquatiques</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="traitement-des-données" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapitre 3</span> Traitement des données<a href="traitement-des-données.html#traitement-des-données" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p style="text-align: justify;">
Afin de faciliter l’appropriation des outils de traitement, un jeu de données de test a été inclus dans <code>data(chronique_exemple)</code>. La structure des tables utilisées à proprement parler est également disponible dans <code>data(chronique_structure_hors_bdd)</code>.
</p>
<p style="text-align: justify;">
C’est à partir du jeu de données <code>data(chronique_exemple)</code> que les exemples suivants de traitement seront présentés.
</p>
<div id="structure-des-données" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Structure des données<a href="traitement-des-données.html#structure-des-données" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p style="text-align: justify;">
Le jeu de données d’exemple est mis en mémoire. La structure des six principales tables est détaillé ci-dessous.
</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="traitement-des-données.html#cb25-1" tabindex="-1"></a><span class="fu">library</span>(aquatools)</span>
<span id="cb25-2"><a href="traitement-des-données.html#cb25-2" tabindex="-1"></a><span class="fu">data</span>(chronique_structure)</span></code></pre></div>
<div id="chronique_structure" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Format au sein de la base de données du RSTMAJ<a href="traitement-des-données.html#chronique_structure" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p style="text-align: justify;">
Les formats présentés ci-dessous sont tels que présents au sein de la base de données PostGIS du RSTMAJ.
</p>
<p style="text-align: justify;">
La structure des tables est visible via le jeu de données <code>chronique_structure_hors_bdd</code>.
</p>
<div id="chronique_structure_stations" class="section level4 hasAnchor" number="3.1.1.1">
<h4><span class="header-section-number">3.1.1.1</span> Stations<a href="traitement-des-données.html#chronique_structure_stations" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p style="text-align: justify;">
Cette table contient la description des stations, notamment leur nommage homogène au sein du RSTMAJ.
</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="traitement-des-données.html#cb26-1" tabindex="-1"></a>stations_structure_hors_bdd <span class="sc">%&gt;%</span> <span class="fu">str</span>()</span></code></pre></div>
<pre><code>## Classes &#39;sf&#39; and &#39;data.frame&#39;:   0 obs. of  71 variables:
##  $ id                                           : int 
##  $ chsta_coderhj                                : chr 
##  $ chsta_codemo                                 : chr 
##  $ chsta_codesie                                : chr 
##  $ chsta_mo                                     : chr 
##  $ chsta_milieu                                 : chr 
##  $ chsta_milieucodehydro                        : logi 
##  $ chsta_bassin                                 : chr 
##  $ chsta_sousbassin                             : chr 
##  $ chsta_commune                                : chr 
##  $ chsta_departement                            : chr 
##  $ chsta_codecontextepdpg                       : chr 
##  $ chsta_pays                                   : chr 
##  $ chsta_coord_x                                : num 
##  $ chsta_coord_y                                : num 
##  $ chsta_coord_type                             : chr 
##  $ chsta_fonctionnement                         : chr 
##  $ chsta_transmission                           : chr 
##  $ chsta_suivithermie                           : chr 
##  $ chsta_reseauthermietype                      : chr 
##  $ chsta_suivipiezo                             : chr 
##  $ chsta_suivihydro                             : chr 
##  $ chsta_suivio2                                : chr 
##  $ chsta_suivipluvio                            : chr 
##  $ chsta_altitude                               : num 
##  $ chsta_distancesource                         : num 
##  $ chsta_distancesource_confluencedrainprincipal: num 
##  $ chsta_temperaturemax                         : int 
##  $ chsta_sectionmouillee                        : int 
##  $ chsta_durete                                 : int 
##  $ chsta_largeurlitmineur                       : num 
##  $ chsta_largeurlitetiage                       : num 
##  $ chsta_pente                                  : int 
##  $ chsta_typetheorique                          : chr 
##  $ chsta_surfacebassinversant                   : num 
##  $ chsta_carteign                               : chr 
##  $ chsta_rive                                   : chr 
##  $ chsta_ancrage                                : chr 
##  $ chsta_acces                                  : chr 
##  $ chsta_detailsloc                             : chr 
##  $ chsta_description                            : chr 
##  $ chsta_url                                    : chr 
##  $ chsta_remarques                              : chr 
##  $ chsta_ordretournee                           : int 
##  $ chsta_impacts                                : chr 
##  $ chsta_profsonde                              : num 
##  $ chsta_substrats                              : chr 
##  $ chsta_distberge                              : num 
##  $ chsta_numphoto                               : chr 
##  $ chsta_zcapteur                               : num 
##  $ chsta_zbouchon                               : num 
##  $ chsta_typez                                  : num 
##  $ chsta_hcapteurbouchon                        : chr 
##  $ chsta_module                                 : num 
##  $ chsta_qmna5                                  : num 
##  $ chsta_q2                                     : num 
##  $ chsta_q5                                     : num 
##  $ chsta_q10                                    : num 
##  $ chsta_q20                                    : num 
##  $ chsta_q30                                    : num 
##  $ chsta_q50                                    : num 
##  $ chsta_q100                                   : num 
##  $ chsta_q300                                   : num 
##  $ chsta_ombrage                                : chr 
##  $ chsta_facies                                 : chr 
##  $ chsta_sprep                                  : chr 
##  $ chsta_codehydro                              : chr 
##  $ chsta_codemeteofrance                        : chr 
##  $ chsta_infl_ant_type                          : chr 
##  $ chsta_infl_nappe                             : chr 
##  $ geom                                         :sfc_GEOMETRY of length 0 - attr(*, &quot;sf_column&quot;)= chr &quot;geom&quot;
##  - attr(*, &quot;agr&quot;)= Factor w/ 3 levels &quot;constant&quot;,&quot;aggregate&quot;,..: NA NA NA NA NA NA NA NA NA NA ...
##   ..- attr(*, &quot;names&quot;)= chr [1:70] &quot;id&quot; &quot;chsta_coderhj&quot; &quot;chsta_codemo&quot; &quot;chsta_codesie&quot; ...</code></pre>
</div>
<div id="chronique_structure_suivi" class="section level4 hasAnchor" number="3.1.1.2">
<h4><span class="header-section-number">3.1.1.2</span> Suivi<a href="traitement-des-données.html#chronique_structure_suivi" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p style="text-align: justify;">
Cette table contient le suivi de terrain relatif à chaque intervention sur un point de suivi (pose, relève, dépose, etc.).
</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="traitement-des-données.html#cb28-1" tabindex="-1"></a>suivis_structure_hors_bdd <span class="sc">%&gt;%</span> <span class="fu">str</span>()</span></code></pre></div>
<pre><code>## tibble [0 × 16] (S3: tbl_df/tbl/data.frame)
##  $ id                  : int(0) 
##  $ chsvi_mo            : chr(0) 
##  $ chsvi_coderhj       : chr(0) 
##  $ chsvi_typesuivi     : chr(0) 
##  $ chsvi_operateurs    : chr(0) 
##  $ chsvi_date          : &#39;Date&#39; num(0) 
##  $ chsvi_heure         : chr(0) 
##  $ chsvi_capteur       : chr(0) 
##  $ chsvi_valeur        : num(0) 
##  $ chsvi_unite         : chr(0) 
##  $ chsvi_profondeur    : num(0) 
##  $ chsvi_action        : chr(0) 
##  $ chsvi_fonctionnement: chr(0) 
##  $ chsvi_qualite       : chr(0) 
##  $ chsvi_actionafaire  : chr(0) 
##  $ chsvi_remarques     : chr(0)</code></pre>
</div>
<div id="chronique_structure_mesures" class="section level4 hasAnchor" number="3.1.1.3">
<h4><span class="header-section-number">3.1.1.3</span> Mesures<a href="traitement-des-données.html#chronique_structure_mesures" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p style="text-align: justify;">
Cette table contient les mesures/chroniques/séries à proprement parler.
</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="traitement-des-données.html#cb30-1" tabindex="-1"></a>mesures_structure_hors_bdd <span class="sc">%&gt;%</span> <span class="fu">str</span>()</span></code></pre></div>
<pre><code>## tibble [0 × 12] (S3: tbl_df/tbl/data.frame)
##  $ id                        : int(0) 
##  $ chmes_coderhj             : chr(0) 
##  $ chmes_capteur             : chr(0) 
##  $ chmes_date                : &#39;Date&#39; num(0) 
##  $ chmes_heure               : chr(0) 
##  $ chmes_valeur              : num(0) 
##  $ chmes_unite               : chr(0) 
##  $ chmes_typemesure          : chr(0) 
##  $ chmes_validation          : chr(0) 
##  $ chmes_mode_acquisition    : chr(0) 
##  $ chmes_mode_integration    : chr(0) 
##  $ chmes_referentiel_temporel: chr(0)</code></pre>
</div>
<div id="chronique_structure_capteurs" class="section level4 hasAnchor" number="3.1.1.4">
<h4><span class="header-section-number">3.1.1.4</span> Capteurs<a href="traitement-des-données.html#chronique_structure_capteurs" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p style="text-align: justify;">
Cette table contient un descriptif rapide relatif à chaque capteur utilisé (marque, modèle, propriétaire, etc.).
</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="traitement-des-données.html#cb32-1" tabindex="-1"></a>capteurs_structure_hors_bdd <span class="sc">%&gt;%</span> <span class="fu">str</span>()</span></code></pre></div>
<pre><code>## tibble [0 × 11] (S3: tbl_df/tbl/data.frame)
##  $ id                  : int(0) 
##  $ chcap_proprietaire  : chr(0) 
##  $ chcap_typecapteur   : chr(0) 
##  $ chcap_modelecapteur : chr(0) 
##  $ chcap_numerocapteur : chr(0) 
##  $ chcap_etat          : chr(0) 
##  $ chcap_projet        : chr(0) 
##  $ chcap_originecapteur: chr(0) 
##  $ chcap_datedebut     : chr(0) 
##  $ chcap_datefin       : chr(0) 
##  $ chcap_remarques     : chr(0)</code></pre>
</div>
<div id="chronique_structure_commentaires" class="section level4 hasAnchor" number="3.1.1.5">
<h4><span class="header-section-number">3.1.1.5</span> Commentaires<a href="traitement-des-données.html#chronique_structure_commentaires" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p style="text-align: justify;">
Cette table contient les commentaires rédigés de chaque chronique pour chaque couple station-année biologique-paramètre.
</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="traitement-des-données.html#cb34-1" tabindex="-1"></a>commentaires_structure_hors_bdd <span class="sc">%&gt;%</span> <span class="fu">str</span>()</span></code></pre></div>
<pre><code>## tibble [0 × 5] (S3: tbl_df/tbl/data.frame)
##  $ id               : int(0) 
##  $ chres_coderhj    : chr(0) 
##  $ chres_typemesure : chr(0) 
##  $ chres_anneebiol  : int(0) 
##  $ chres_commentaire: chr(0)</code></pre>
</div>
<div id="chronique_structure_resultats" class="section level4 hasAnchor" number="3.1.1.6">
<h4><span class="header-section-number">3.1.1.6</span> Résultats<a href="traitement-des-données.html#chronique_structure_resultats" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p style="text-align: justify;">
Cette table contient les résultats/métriques calculés pour chaque couple station-année biologique-paramètre.
</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="traitement-des-données.html#cb36-1" tabindex="-1"></a>resultats_structure_hors_bdd <span class="sc">%&gt;%</span> <span class="fu">str</span>()</span></code></pre></div>
<pre><code>## tibble [0 × 78] (S3: tbl_df/tbl/data.frame)
##  $ id                         : int(0) 
##  $ chres_coderhj              : chr(0) 
##  $ chres_typemesure           : chr(0) 
##  $ chres_periodetotale        : chr(0) 
##  $ chres_annee                : num(0) 
##  $ chres_anneevmm             : num(0) 
##  $ chres_datedperiode         : &#39;Date&#39; num(0) 
##  $ chres_datefperiode         : &#39;Date&#39; num(0) 
##  $ chres_nbj                  : int(0) 
##  $ chres_intervallemax        : chr(0) 
##  $ chres_dureetotale          : chr(0) 
##  $ chres_nbjpasok             : int(0) 
##  $ chres_nbjok                : int(0) 
##  $ chres_vmini                : num(0) 
##  $ chres_vmedi                : num(0) 
##  $ chres_vmoyi                : num(0) 
##  $ chres_vmaxi                : num(0) 
##  $ chres_vamplii              : num(0) 
##  $ chres_vari                 : num(0) 
##  $ chres_nmesuresi            : int(0) 
##  $ chres_vmoyjminper          : num(0) 
##  $ chres_datevmoyjminper      : &#39;Date&#39; num(0) 
##  $ chres_vmoyjmedper          : num(0) 
##  $ chres_vmoyjmoyper          : num(0) 
##  $ chres_vmoyjmaxper          : num(0) 
##  $ chres_datevmoyjmaxper      : &#39;Date&#39; num(0) 
##  $ chres_amplitudevmoyjper    : num(0) 
##  $ chres_varvmoyj             : num(0) 
##  $ chres_vmaxmoy24h           : num(0) 
##  $ chres_datemoyvmaxmoy24h    : chr(0) 
##  $ chres_vmaxmoy7j            : num(0) 
##  $ chres_datedebutvmaxmoy7j   : &#39;Date&#39; num(0) 
##  $ chres_datefinvmaxmoy7j     : &#39;Date&#39; num(0) 
##  $ chres_vmaxmoy30j           : num(0) 
##  $ chres_datedebutvmaxmoy30j  : &#39;Date&#39; num(0) 
##  $ chres_datefinvmaxmoy30j    : &#39;Date&#39; num(0) 
##  $ chres_vmoymoy30j           : num(0) 
##  $ chres_vminab               : num(0) 
##  $ chres_datevminab           : chr(0) 
##  $ chres_vmaxab               : num(0) 
##  $ chres_datevmaxab           : chr(0) 
##  $ chres_percentile10ab       : num(0) 
##  $ chres_percentile25ab       : num(0) 
##  $ chres_percentile50ab       : num(0) 
##  $ chres_percentile75ab       : num(0) 
##  $ chres_percentile90ab       : num(0) 
##  $ chres_percentile90diurneab : num(0) 
##  $ chres_dureemaxepisodessup25: int(0) 
##  $ chres_nbjepisodessup25     : int(0) 
##  $ chres_nbepisodessup25      : int(0) 
##  $ chres_datedepisodessup25   : chr(0) 
##  $ chres_datefepisodessup25   : chr(0) 
##  $ chres_dureeepisodessup25   : chr(0) 
##  $ chres_dureemaxepisodessup22: int(0) 
##  $ chres_nbjepisodessup22     : int(0) 
##  $ chres_nbepisodessup22      : int(0) 
##  $ chres_datedepisodessup22   : &#39;POSIXct&#39; num(0) 
##  - attr(*, &quot;tzone&quot;)= chr &quot;&quot;
##  $ chres_datefepisodessup22   : &#39;POSIXct&#39; num(0) 
##  - attr(*, &quot;tzone&quot;)= chr &quot;&quot;
##  $ chres_dureeepisodessup22   : chr(0) 
##  $ chres_dureemaxepisodessup19: int(0) 
##  $ chres_nbjepisodessup19     : int(0) 
##  $ chres_nbepisodessup19      : int(0) 
##  $ chres_datedepisodessup19   : &#39;POSIXct&#39; num(0) 
##  - attr(*, &quot;tzone&quot;)= chr &quot;&quot;
##  $ chres_datefepisodessup19   : &#39;POSIXct&#39; num(0) 
##  - attr(*, &quot;tzone&quot;)= chr &quot;&quot;
##  $ chres_dureeepisodessup19   : chr(0) 
##  $ chres_dureemaxepisodessup15: int(0) 
##  $ chres_nbjepisodessup15     : int(0) 
##  $ chres_nbepisodessup15      : int(0) 
##  $ chres_datedepisodessup15   : &#39;POSIXct&#39; num(0) 
##  - attr(*, &quot;tzone&quot;)= chr &quot;&quot;
##  $ chres_datefepisodessup15   : &#39;POSIXct&#39; num(0) 
##  - attr(*, &quot;tzone&quot;)= chr &quot;&quot;
##  $ chres_dureeepisodessup15   : chr(0) 
##  $ chres_dureemaxepisodesinf4 : int(0) 
##  $ chres_nbjepisodesinf4      : int(0) 
##  $ chres_nbepisodesinf4       : int(0) 
##  $ chres_datedepisodesinf4    : &#39;POSIXct&#39; num(0) 
##  - attr(*, &quot;tzone&quot;)= chr &quot;&quot;
##  $ chres_datefepisodesinf4    : &#39;POSIXct&#39; num(0) 
##  - attr(*, &quot;tzone&quot;)= chr &quot;&quot;
##  $ chres_dureeepisodesinf4    : chr(0) 
##  $ chres_aquatoolsversion     : chr(0)</code></pre>
</div>
</div>
<div id="chronique_structure_hors_bdd" class="section level3 hasAnchor" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Données hors de la base de données du RSTMAJ<a href="traitement-des-données.html#chronique_structure_hors_bdd" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p style="text-align: justify;">
La structure des tables sans les champs propres au RSTMAJ (dates de modifications, etc.) est visible au sein du jeu de données <code>chronique_structure_hors_bdd</code>.
</p>
</div>
</div>
<div id="chronique_ouverture" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Ouverture des données<a href="traitement-des-données.html#chronique_ouverture" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p style="text-align: justify;">
Les données peuvent être importées à partir de la fonction <code>chronique.ouverture()</code>.
</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="traitement-des-données.html#cb38-1" tabindex="-1"></a>mes_donnees <span class="ot">&lt;-</span> <span class="fu">chronique.ouverture</span>(<span class="at">Type =</span> <span class="st">&quot;Mesures&quot;</span>, <span class="at">typemesure =</span> <span class="st">&quot;Thermie&quot;</span>, <span class="at">Localisation =</span> <span class="st">&quot;./data/Mesures/20347223.txt&quot;</span>, <span class="at">skipvalue =</span> <span class="dv">1</span>, <span class="at">nbcolonnes =</span> <span class="dv">6</span>, <span class="at">typefichier =</span> <span class="st">&quot;.csv&quot;</span>, <span class="at">typedate =</span> <span class="st">&quot;ymd&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: One or more parsing issues, call `problems()` on your data frame for details,
## e.g.:
##   dat &lt;- vroom(...)
##   problems(dat)</code></pre>
<pre><code>## Warning: There was 1 warning in `mutate()`.
## ℹ In argument: `Date = ymd(Date)`.
## Caused by warning:
## !  1 failed to parse.</code></pre>
<pre><code>## Warning: There was 1 warning in `mutate()`.
## ℹ In argument: `Valeur = as.numeric(sub(&quot;,&quot;, &quot;.&quot;, Valeur))`.
## Caused by warning:
## ! NAs introduits lors de la conversion automatique</code></pre>
<p style="text-align: justify;">
Il est également possible de les importer par un traitement en lots.
</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="traitement-des-données.html#cb42-1" tabindex="-1"></a>mes_donnees <span class="ot">&lt;-</span></span>
<span id="cb42-2"><a href="traitement-des-données.html#cb42-2" tabindex="-1"></a>  fs<span class="sc">::</span><span class="fu">dir_ls</span>(<span class="st">&quot;./Travail/&quot;</span>, <span class="at">regexp =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">.txt$&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb42-3"><a href="traitement-des-données.html#cb42-3" tabindex="-1"></a>  <span class="fu">map_dfr</span>(<span class="sc">~</span> <span class="fu">chronique.ouverture</span>(<span class="at">Localisation =</span> ., <span class="at">skipvalue =</span> <span class="dv">1</span>, <span class="at">nbcolonnes =</span> <span class="dv">6</span>, <span class="at">typefichier =</span> <span class="st">&quot;.csv&quot;</span>, <span class="at">typedate =</span> <span class="st">&quot;ymd&quot;</span>))</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="acquisition-des-données.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="valorisation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["Notice_outils_thermie.pdf", "Notice_outils_thermie.epub"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

</body>

</html>
